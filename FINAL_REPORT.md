# ğŸ° ë¡œë˜ ë²ˆí˜¸ ì˜ˆì¸¡ ì‹œìŠ¤í…œ - ê³¼ì œ ì œì¶œ ë³´ê³ ì„œ

> **ê³¼ì œëª…**: ë‹¤ì¤‘ ì»¨í…Œì´ë„ˆ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì‹œìŠ¤í…œ êµ¬ì¶• ë° ì„¸ì…˜ ê³µìœ   
> **ì‘ì„±ì¼**: 2025ë…„ 11ì›” 7ì¼  
> **í•™ìƒ**: [í•™ë²ˆ/ì´ë¦„]  
> **í”„ë¡œì íŠ¸ëª…**: í†µê³„ ë° ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ ë¡œë˜ ë²ˆí˜¸ ì˜ˆì¸¡ ì‹œìŠ¤í…œ

---

## ğŸ“‹ ëª©ì°¨

1. [ìš”êµ¬ì‚¬í•­ ì¶©ì¡± í˜„í™©](#1-ìš”êµ¬ì‚¬í•­-ì¶©ì¡±-í˜„í™©)
2. [í”„ë¡œì íŠ¸ ê°œìš”](#2-í”„ë¡œì íŠ¸-ê°œìš”)
3. [ì‹œìŠ¤í…œ êµ¬ì„±](#3-ì‹œìŠ¤í…œ-êµ¬ì„±)
4. [ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì„±ë„](#4-ì „ì²´-ì‹œìŠ¤í…œ-êµ¬ì„±ë„)
5. [í†µì‹  ì ˆì°¨](#5-í†µì‹ -ì ˆì°¨)
6. [ì£¼ìš” ê¸°ëŠ¥](#6-ì£¼ìš”-ê¸°ëŠ¥)
7. [Docker Hub ë°°í¬](#7-docker-hub-ë°°í¬)
8. [ì„¤ì¹˜ ë°©ë²•](#8-ì„¤ì¹˜-ë°©ë²•)
9. [êµ¬í˜„ í™”ë©´](#9-êµ¬í˜„-í™”ë©´)
10. [ì™„ì„±ë„](#10-ì™„ì„±ë„)

---

## 1. ìš”êµ¬ì‚¬í•­ ì¶©ì¡± í˜„í™©

### 1.1 ì»¨í…Œì´ë„ˆ êµ¬ì„± (6ê°œ ì´ìƒ ìš”êµ¬ â†’ 9ê°œ êµ¬ì„± âœ…)

| # | ì»¨í…Œì´ë„ˆëª… | ì—­í•  | ê¸°ìˆ  ìŠ¤íƒ |
|---|-----------|------|----------|
| 1 | nginx-proxy-manager | â­ **ì—­ë°©í–¥ í”„ë¡ì‹œ** | Nginx |
| 2 | frontend-app | â­ **í”„ë¡ íŠ¸ì—”ë“œ í”„ë¡œê·¸ë¨** | React + Nginx |
| 3 | api-gateway | â­ **ì„œë²„ í”„ë¡œê·¸ë¨ 1** | Node.js + Express |
| 4 | data-collector-service | â­ **ì„œë²„ í”„ë¡œê·¸ë¨ 2** | Python + Flask |
| 5 | statistics-service | â­ **ì„œë²„ í”„ë¡œê·¸ë¨ 3** | Python + Flask |
| 6 | ml-prediction-service | â­ **ì„œë²„ í”„ë¡œê·¸ë¨ 4** | Python + Flask |
| 7 | user-service | â­ **ì„œë²„ í”„ë¡œê·¸ë¨ 5** | Spring Boot |
| 8 | redis-session | â­ **ì„¸ì…˜ ê³µìœ  ì„œë²„** | Redis 7 |
| 9 | mysql-db | â­ **ë°ì´í„°ë² ì´ìŠ¤** | MySQL 8.0 |

### 1.2 í•„ìˆ˜ ìš”êµ¬ì‚¬í•­ ì²´í¬ë¦¬ìŠ¤íŠ¸

- âœ… **ì—­ë°©í–¥ í”„ë¡ì‹œ êµ¬ì„±**: Nginx Proxy Manager
- âœ… **ë°ì´í„°ë² ì´ìŠ¤**: MySQL 8.0
- âœ… **í”„ë¡ íŠ¸ì—”ë“œ í”„ë¡œê·¸ë¨**: React (9ê°œ í˜ì´ì§€)
- âœ… **ì„œë²„ í”„ë¡œê·¸ë¨ 2ê°œ ì´ìƒ**: 5ê°œ êµ¬ì„± (Node.js + Python x3 + Spring Boot)
- âœ… **ì„¸ì…˜ ê³µìœ  ì„œë²„**: Redis ê¸°ë°˜ ë¶„ì‚° ì„¸ì…˜
- âœ… **ì»¨í…Œì´ë„ˆ 6ê°œ ì´ìƒ**: 9ê°œ êµ¬ì„±
- âœ… **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ êµ¬ì„±**: API Gateway íŒ¨í„´
- âœ… **ììœ  ì£¼ì œ ì›¹ í”„ë¡œê·¸ë¨**: ë¡œë˜ ì˜ˆì¸¡ ì‹œìŠ¤í…œ
- âœ… **ì‹œìŠ¤í…œ êµ¬ì„±ë„**: ìƒì„¸ ë‹¤ì´ì–´ê·¸ë¨ í¬í•¨
- âœ… **Docker Hub ì—…ë¡œë“œ**: 6ê°œ ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ì—…ë¡œë“œ
- âœ… **ì„¤ì¹˜ ë°©ë²• ì œê³µ**: Docker Compose íŒŒì¼ + ê°€ì´ë“œ

---

## 2. í”„ë¡œì íŠ¸ ê°œìš”

### 2.1 í”„ë¡œì íŠ¸ ì†Œê°œ

**ë¡œë˜ ë²ˆí˜¸ ì˜ˆì¸¡ ì‹œìŠ¤í…œ**ì€ í†µê³„ ë¶„ì„ê³¼ ë¨¸ì‹ ëŸ¬ë‹ ì•Œê³ ë¦¬ì¦˜ì„ í™œìš©í•˜ì—¬ ë¡œë˜ ë²ˆí˜¸ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

**ì£¼ìš” íŠ¹ì§•**:
- ğŸ“Š 1,196ê°œ íšŒì°¨ ì‹¤ì œ ë¡œë˜ ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„
- ğŸª ì „êµ­ 1,369ê°œ íŒë§¤ì  ì •ë³´ ë° ì§€ì—­ë³„ 1ë“± ë°°ì¶œ í˜„í™©
- ğŸ¤– 5ê°€ì§€ AI ì•Œê³ ë¦¬ì¦˜ ê¸°ë°˜ ì˜ˆì¸¡ (Random Forest, XGBoost, Ensemble ë“±)
- ğŸ—ºï¸ ì¸í„°ë™í‹°ë¸Œ í•œêµ­ ì§€ë„ ì‹œê°í™”
- ğŸ” JWT ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦ ë° ì„¸ì…˜ ê´€ë¦¬

### 2.2 ê¸°ìˆ  ìŠ¤íƒ

**Frontend**:
- React 18 + TypeScript
- Vite 7.2
- TailwindCSS v4
- react-simple-south-korea-map-chart

**Backend**:
- Node.js 20 (API Gateway)
- Python 3.11 (Data Collector, Statistics, ML)
- Spring Boot 3.1.5 (User Service)
- Flask 3.0

**Database & Cache**:
- MySQL 8.0 (ì˜êµ¬ ì €ì¥)
- Redis 7 (ì„¸ì…˜ ê³µìœ  + ìºì‹±)

**Infrastructure**:
- Docker & Docker Compose
- Nginx Proxy Manager

**ML Libraries**:
- scikit-learn
- XGBoost
- NumPy, Pandas

---

## 3. ì‹œìŠ¤í…œ êµ¬ì„±

### 3.1 ì»¨í…Œì´ë„ˆ ìƒì„¸ ì—­í• 

#### 1ï¸âƒ£ nginx-proxy-manager (ì—­ë°©í–¥ í”„ë¡ì‹œ)
```yaml
ports:
  - "80:80"      # HTTP
  - "443:443"    # HTTPS
  - "81:81"      # ê´€ë¦¬ í˜ì´ì§€
```
- ì™¸ë¶€ ìš”ì²­ì„ frontend ë˜ëŠ” api-gatewayë¡œ ë¼ìš°íŒ…
- SSL/TLS ì¸ì¦ì„œ ê´€ë¦¬
- ë¡œë“œ ë°¸ëŸ°ì‹±

#### 2ï¸âƒ£ frontend-app (React í”„ë¡ íŠ¸ì—”ë“œ)
```
9ê°œ í˜ì´ì§€:
- Home: AI ì˜ˆì¸¡ + ìµœì‹  ë‹¹ì²¨ë²ˆí˜¸
- Analysis: í†µê³„ ë¶„ì„
- NumberAnalysis: ë²ˆí˜¸ë³„ ìƒì„¸ ë¶„ì„
- CheckWinning: ë‹¹ì²¨ í™•ì¸
- PredictionHistory: ì˜ˆì¸¡ ì´ë ¥
- Login/Register: ì‚¬ìš©ì ì¸ì¦
- Stores: íŒë§¤ì  ìˆœìœ„
- StoreMap: ì§€ë„ ì‹œê°í™”
```

#### 3ï¸âƒ£ api-gateway (API ê²Œì´íŠ¸ì›¨ì´)
- JWT í† í° ê²€ì¦
- Redis ì„¸ì…˜ í™•ì¸
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë¼ìš°íŒ…
- CORS ì²˜ë¦¬

#### 4ï¸âƒ£ data-collector-service (ë°ì´í„° ìˆ˜ì§‘)
- ë™í–‰ë³µê¶Œ ì‚¬ì´íŠ¸ í¬ë¡¤ë§
- ë¡œë˜ ë²ˆí˜¸ ìë™ ìˆ˜ì§‘ (1,196íšŒì°¨)
- íŒë§¤ì  ì •ë³´ í¬ë¡¤ë§ (1,369ê°œ)

#### 5ï¸âƒ£ statistics-service (í†µê³„ ë¶„ì„)
- ë¹ˆë„ ë¶„ì„ (1~45ë²ˆ ì¶œí˜„ íšŸìˆ˜)
- íŒ¨í„´ ë¶„ì„ (í™€/ì§, ê³ /ì €, ì—°ë²ˆ)
- ì¶”ì´ ë¶„ì„
- íˆíŠ¸ë§µ ìƒì„±

#### 6ï¸âƒ£ ml-prediction-service (AI ì˜ˆì¸¡)
- Random Forest ì˜ˆì¸¡
- XGBoost ì˜ˆì¸¡
- Gradient Boosting ì˜ˆì¸¡
- Ensemble ì˜ˆì¸¡ (ê°€ì¤‘ í‰ê· )
- í†µê³„ ê¸°ë°˜ ì˜ˆì¸¡

#### 7ï¸âƒ£ user-service (ì‚¬ìš©ì ê´€ë¦¬)
- íšŒì›ê°€ì… (bcrypt ì•”í˜¸í™”)
- ë¡œê·¸ì¸ (JWT ë°œê¸‰)
- í† í° ê°±ì‹ 
- ì˜ˆì¸¡ ì´ë ¥ ì €ì¥

#### 8ï¸âƒ£ redis-session (ì„¸ì…˜ ê³µìœ )
```redis
ì €ì¥ ë°ì´í„°:
- session:{userId} â†’ JWT í† í°
- cache:stats:{type} â†’ í†µê³„ ê²°ê³¼ (5ë¶„ ìºì‹±)
- cache:predictions â†’ ì˜ˆì¸¡ ê²°ê³¼
```
- **ë¶„ì‚° ì„¸ì…˜ ê³µìœ **: ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ë™ì¼í•œ ì„¸ì…˜ ì ‘ê·¼
- **ìºì‹±**: ë°˜ë³µ ìš”ì²­ ìµœì í™”

#### 9ï¸âƒ£ mysql-db (ë°ì´í„°ë² ì´ìŠ¤)
```sql
ì£¼ìš” í…Œì´ë¸”:
- lotto_numbers (1,196 rows)
- lotto_stores (1,369 rows)
- users
- prediction_history
```

### 3.2 ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ í†µì‹ 

**RESTful API í†µì‹ **:
```
ì˜ˆì¸¡ ìš”ì²­ íë¦„:
1. ì‚¬ìš©ì â†’ Frontend: ì˜ˆì¸¡ ë²„íŠ¼ í´ë¦­
2. Frontend â†’ API Gateway: POST /api/predict/predict-multiple + JWT
3. API Gateway: JWT ê²€ì¦ + Redis ì„¸ì…˜ í™•ì¸
4. API Gateway â†’ ML Service: ìš”ì²­ ì „ë‹¬
5. ML Service â†’ MySQL: ë°ì´í„° ì¡°íšŒ
6. ML Service: 5ê°€ì§€ ì•Œê³ ë¦¬ì¦˜ ì˜ˆì¸¡ ìˆ˜í–‰
7. ML Service â†’ Redis: ê²°ê³¼ ìºì‹± (5ë¶„)
8. ML Service â†’ API Gateway: ì˜ˆì¸¡ ê²°ê³¼ ë°˜í™˜
9. API Gateway â†’ Frontend: JSON ì‘ë‹µ
10. Frontend: ê²°ê³¼ ë Œë”ë§
```

### 3.3 ì„¸ì…˜ ê³µìœ  ë©”ì»¤ë‹ˆì¦˜

```
ë¡œê·¸ì¸ ì‹œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User       â”‚â”€â”€â”€â”€â”€â–ºâ”‚ User Service â”‚â”€â”€â”€â”€â”€â–ºâ”‚   Redis    â”‚
â”‚ (ë¡œê·¸ì¸)   â”‚      â”‚ (JWT ìƒì„±)   â”‚      â”‚ (ì„¸ì…˜ ì €ì¥) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

API ìš”ì²­ ì‹œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Any Serviceâ”‚â”€â”€â”€â”€â”€â–ºâ”‚ API Gateway  â”‚â”€â”€â”€â”€â”€â–ºâ”‚   Redis    â”‚
â”‚ (ìš”ì²­)     â”‚      â”‚ (ì„¸ì…˜ í™•ì¸)  â”‚      â”‚ (ì„¸ì…˜ ì¡°íšŒ) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¥ì **:
- ì„œë²„ ì¬ì‹œì‘ ì‹œì—ë„ ì„¸ì…˜ ìœ ì§€
- ë¡œë“œ ë°¸ëŸ°ì‹± í™˜ê²½ì—ì„œ ì¼ê´€ëœ ì„¸ì…˜
- ë¹ ë¥¸ ì„¸ì…˜ ì¡°íšŒ (ë©”ëª¨ë¦¬ ê¸°ë°˜)

---

## 4. ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì„±ë„

### 4.1 ì»¨í…Œì´ë„ˆ êµ¬ì„±ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì‚¬ìš©ì                         â”‚
â”‚              (ì›¹ ë¸Œë¼ìš°ì €)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP/HTTPS
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Nginx Proxy Manager     â”‚
        â”‚  :80  (HTTP í”„ë¡ì‹œ)     â”‚
        â”‚  :81  (ê´€ë¦¬ì GUI)      â”‚
        â”‚  :443 (HTTPS í”„ë¡ì‹œ)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend     â”‚      â”‚   API Gateway    â”‚
â”‚   (Nginx)      â”‚      â”‚   (Node.js)      â”‚
â”‚   :80          â”‚      â”‚   :8000          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ RESTful API
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                  â”‚                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚ Data          â”‚  â”‚ Statistics  â”‚  â”‚ ML Prediction  â”‚
    â”‚ Collector     â”‚  â”‚ Service     â”‚  â”‚ Service        â”‚
    â”‚ (Python)      â”‚  â”‚ (Python)    â”‚  â”‚ (Python)       â”‚
    â”‚ :8001         â”‚  â”‚ :8002       â”‚  â”‚ :8003          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                 â”‚                   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  User Service    â”‚
                    â”‚  (Spring Boot)   â”‚
                    â”‚  :8004           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ JDBC / Redis Client
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
        â”‚  MySQL         â”‚          â”‚   Redis     â”‚
        â”‚  (Database)    â”‚          â”‚  (Session)  â”‚
        â”‚  :3306         â”‚          â”‚  :6379      â”‚
        â”‚  1,196 íšŒì°¨    â”‚          â”‚  ì„¸ì…˜ ê³µìœ   â”‚
        â”‚  1,369 íŒë§¤ì   â”‚          â”‚  + ìºì‹±     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
        ë„¤íŠ¸ì›Œí¬: lotto-network (bridge)
        ì„œë¸Œë„·: 192.168.44.0/24
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### 4.2 í¬íŠ¸ ì„¤ëª…

| ì»¨í…Œì´ë„ˆ | í¬íŠ¸ | ìš©ë„ | ì™¸ë¶€ ë…¸ì¶œ |
|---------|------|------|----------|
| nginx-proxy-manager | 80 | HTTP í”„ë¡ì‹œ | âœ… |
| nginx-proxy-manager | 81 | ê´€ë¦¬ì GUI | âœ… |
| nginx-proxy-manager | 443 | HTTPS í”„ë¡ì‹œ | âœ… |
| frontend-app | 80 | React ì•± ì„œë¹™ | âŒ (ë‚´ë¶€) |
| api-gateway | 8000 | API ë¼ìš°íŒ… | âŒ (ë‚´ë¶€) |
| data-collector | 8001 | ë°ì´í„° ìˆ˜ì§‘ API | âŒ (ë‚´ë¶€) |
| statistics | 8002 | í†µê³„ ë¶„ì„ API | âŒ (ë‚´ë¶€) |
| ml-prediction | 8003 | ì˜ˆì¸¡ API | âŒ (ë‚´ë¶€) |
| user-service | 8004 | ì¸ì¦ API | âŒ (ë‚´ë¶€) |
| redis-session | 6379 | Redis | âŒ (ë‚´ë¶€) |
| mysql-db | 3306 | MySQL | âŒ (ë‚´ë¶€) |

**ë³´ì•ˆ**: ì™¸ë¶€ì—ëŠ” Nginx Proxy Manager(80, 81, 443)ë§Œ ë…¸ì¶œë˜ê³ , ë‚˜ë¨¸ì§€ëŠ” ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œë§Œ í†µì‹ 

---

## 5. í†µì‹  ì ˆì°¨

### 5.1 ë¡œê·¸ì¸ ì‹œë‚˜ë¦¬ì˜¤

```
1. ì‚¬ìš©ìê°€ /login í˜ì´ì§€ì—ì„œ username/password ì…ë ¥
2. Frontend â†’ API Gateway: POST /api/auth/login
3. API Gateway â†’ User Service: ìš”ì²­ ì „ë‹¬
4. User Service â†’ MySQL: ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
5. User Service: bcryptë¡œ ë¹„ë°€ë²ˆí˜¸ ê²€ì¦
6. User Service: JWT Access Token + Refresh Token ìƒì„±
7. User Service â†’ Redis: session:{userId} í‚¤ë¡œ í† í° ì €ì¥ (30ë¶„ TTL)
8. User Service â†’ API Gateway: {accessToken, refreshToken} ë°˜í™˜
9. API Gateway â†’ Frontend: ì‘ë‹µ
10. Frontend: localStorageì— í† í° ì €ì¥
```

### 5.2 ì˜ˆì¸¡ ìš”ì²­ ì‹œë‚˜ë¦¬ì˜¤

```
1. ì‚¬ìš©ìê°€ "AI ì˜ˆì¸¡" ë²„íŠ¼ í´ë¦­
2. Frontend â†’ API Gateway: POST /api/predict/predict-multiple
   Header: Authorization: Bearer {token}
3. API Gateway: JWT í† í° ê²€ì¦
4. API Gateway â†’ Redis: session:{userId} í™•ì¸
5. ì„¸ì…˜ ìœ íš¨ì„± í™•ì¸ ì™„ë£Œ
6. API Gateway â†’ ML Service: ìš”ì²­ ì „ë‹¬
7. ML Service â†’ MySQL: 1,196ê°œ íšŒì°¨ ë°ì´í„° ì¡°íšŒ
8. ML Service: 5ê°€ì§€ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì˜ˆì¸¡ ìˆ˜í–‰
   - Random Forest
   - XGBoost
   - Gradient Boosting
   - Ensemble
   - Statistics-based
9. ML Service â†’ Redis: cache:predictions ìºì‹± (5ë¶„)
10. ML Service â†’ API Gateway: ì˜ˆì¸¡ ê²°ê³¼ (5ê°œ ì¡°í•©)
11. API Gateway â†’ Frontend: JSON ì‘ë‹µ
12. Frontend: ë²ˆí˜¸ ë Œë”ë§ (ìƒ‰ìƒ êµ¬ë¶„, ì• ë‹ˆë©”ì´ì…˜)
```

### 5.3 ì§€ë„ ì‹œê°í™” ì‹œë‚˜ë¦¬ì˜¤

```
1. ì‚¬ìš©ìê°€ /store-map í˜ì´ì§€ ì ‘ì†
2. Frontend â†’ API Gateway: GET /api/data/stores/stats/region
3. API Gateway â†’ Data Collector: ìš”ì²­ ì „ë‹¬
4. Data Collector â†’ MySQL: ì§€ì—­ë³„ 1ë“± ë°°ì¶œ í†µê³„ ì¡°íšŒ
   SELECT region, COUNT(*) as total_1st_wins 
   FROM lotto_stores 
   GROUP BY region
5. Data Collector â†’ API Gateway: 17ê°œ ì§€ì—­ ë°ì´í„°
6. API Gateway â†’ Frontend: JSON ì‘ë‹µ
7. Frontend: react-simple-south-korea-map-chartë¡œ ë Œë”ë§
   - ìƒ‰ìƒ ê°•ë„: ë°°ì¶œ íšŸìˆ˜ì— ë¹„ë¡€ (10ë‹¨ê³„ ê·¸ë¼ë°ì´ì…˜)
   - í˜¸ë²„ íˆ´íŒ: ì§€ì—­ëª…, ë°°ì¶œ íšŸìˆ˜, íŒë§¤ì  ìˆ˜
   - í´ë¦­ ì´ë²¤íŠ¸: í•´ë‹¹ ì§€ì—­ íŒë§¤ì  ëª©ë¡ í‘œì‹œ
```

---

## 6. ì£¼ìš” ê¸°ëŠ¥

### 6.1 AI ê¸°ë°˜ ë¡œë˜ ë²ˆí˜¸ ì˜ˆì¸¡

**5ê°€ì§€ ì˜ˆì¸¡ ì•Œê³ ë¦¬ì¦˜**:

1. **Random Forest**
   - 100ê°œ ê²°ì • íŠ¸ë¦¬ ì•™ìƒë¸”
   - ê³¼ì í•© ë°©ì§€

2. **XGBoost**
   - Gradient Boosting ìµœì í™”
   - ë†’ì€ ì˜ˆì¸¡ ì •í™•ë„

3. **Gradient Boosting**
   - ìˆœì°¨ì  í•™ìŠµ
   - ì˜¤ì°¨ ë³´ì •

4. **Ensemble**
   - 3ê°€ì§€ ëª¨ë¸ì˜ ê°€ì¤‘ í‰ê· 
   - ê°€ì¥ ì•ˆì •ì ì¸ ì˜ˆì¸¡

5. **Statistics-based**
   - ë¹ˆë„ + íŒ¨í„´ ë¶„ì„
   - ì§ê´€ì ì¸ í•´ì„

### 6.2 í†µê³„ ë¶„ì„

- **ë¹ˆë„ ë¶„ì„**: 1~45ë²ˆ ì¶œí˜„ íšŸìˆ˜ (1,196íšŒì°¨ ê¸°ì¤€)
- **íŒ¨í„´ ë¶„ì„**: í™€/ì§ ë¹„ìœ¨, ê³ /ì € ë¹„ìœ¨, ì—°ë²ˆ ì¶œí˜„
- **ì¶”ì´ ë¶„ì„**: ìµœê·¼ 20íšŒì°¨ íŠ¸ë Œë“œ
- **íˆíŠ¸ë§µ**: ë²ˆí˜¸ ê°„ ë™ì‹œ ì¶œí˜„ ë¹ˆë„

### 6.3 íŒë§¤ì  ì •ë³´

- **ì „êµ­ 1,369ê°œ íŒë§¤ì ** ë°ì´í„°
- **ì§€ì—­ë³„ 1ë“± ë°°ì¶œ í˜„í™©**
- **ì¸í„°ë™í‹°ë¸Œ ì§€ë„ ì‹œê°í™”**

### 6.4 ì‚¬ìš©ì ê¸°ëŠ¥

- íšŒì›ê°€ì…/ë¡œê·¸ì¸ (JWT ì¸ì¦)
- ì˜ˆì¸¡ ì´ë ¥ ì €ì¥ ë° ì¡°íšŒ
- ë‹¹ì²¨ í™•ì¸
- í†µê³„ ë¶„ì„ ì—´ëŒ

---

## 7. Docker Hub ë°°í¬

### 7.1 ì—…ë¡œë“œëœ ì´ë¯¸ì§€ (6ê°œ)

**Docker Hub ID**: `YOUR_DOCKERHUB_ID`

```
1. YOUR_DOCKERHUB_ID/lotto-frontend:latest
2. YOUR_DOCKERHUB_ID/lotto-api-gateway:latest
3. YOUR_DOCKERHUB_ID/lotto-data-collector:latest
4. YOUR_DOCKERHUB_ID/lotto-statistics:latest
5. YOUR_DOCKERHUB_ID/lotto-ml-prediction:latest
6. YOUR_DOCKERHUB_ID/lotto-user-service:latest
```

### 7.2 ê³µì‹ ì´ë¯¸ì§€ (3ê°œ - ë³„ë„ ì—…ë¡œë“œ ë¶ˆí•„ìš”)

```
7. jc21/nginx-proxy-manager:latest
8. mysql:8.0
9. redis:7-alpine
```

### 7.3 Docker Hub ì ‘ì† ì£¼ì†Œ

```
https://hub.docker.com/u/YOUR_DOCKERHUB_ID
```

---

## 8. ì„¤ì¹˜ ë°©ë²•

### 8.1 ì‚¬ì „ ìš”êµ¬ì‚¬í•­

```bash
# Docker ì„¤ì¹˜ í™•ì¸
docker --version
# Docker Compose ì„¤ì¹˜ í™•ì¸
docker-compose --version
```

### 8.2 ì„¤ì¹˜ ì ˆì°¨

```bash
# 1. ì €ì¥ì†Œ ë³µì œ
git clone https://github.com/YOUR_USERNAME/lotto-prediction-system.git
cd lotto-prediction-system

# 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ ìˆ˜ì • (MySQL ë¹„ë°€ë²ˆí˜¸, JWT Secret ë³€ê²½ í•„ìš”)

# 3. Docker Composeë¡œ ì‹¤í–‰
docker-compose up -d

# 4. ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
docker-compose ps

# 5. ë¡œê·¸ í™•ì¸
docker-compose logs -f
```

### 8.3 ì ‘ì† ì£¼ì†Œ

```
í”„ë¡ íŠ¸ì—”ë“œ: http://localhost
ê´€ë¦¬ í˜ì´ì§€: http://localhost:81
API Gateway: http://localhost:8000
```

### 8.4 Docker Compose íŒŒì¼

`docker-compose.yml`:

```yaml
version: '3.3'

networks:
  lotto-network:
    driver: bridge

volumes:
  mysql-data:
  redis-data:
  npm-data:
  npm-ssl:

services:
  nginx-proxy-manager:
    image: 'jc21/nginx-proxy-manager:latest'
    ports:
      - '80:80'
      - '443:443'
      - '81:81'
    volumes:
      - npm-data:/data
      - npm-ssl:/etc/letsencrypt
    networks:
      - lotto-network

  frontend-app:
    image: YOUR_DOCKERHUB_ID/lotto-frontend:latest
    expose:
      - "80"
    networks:
      - lotto-network

  api-gateway:
    image: YOUR_DOCKERHUB_ID/lotto-api-gateway:latest
    expose:
      - "8000"
    environment:
      - NODE_ENV=production
      - JWT_SECRET=${JWT_SECRET}
      - REDIS_HOST=redis-session
    networks:
      - lotto-network

  data-collector-service:
    image: YOUR_DOCKERHUB_ID/lotto-data-collector:latest
    expose:
      - "8001"
    networks:
      - lotto-network

  statistics-service:
    image: YOUR_DOCKERHUB_ID/lotto-statistics:latest
    expose:
      - "8002"
    networks:
      - lotto-network

  ml-prediction-service:
    image: YOUR_DOCKERHUB_ID/lotto-ml-prediction:latest
    expose:
      - "8003"
    networks:
      - lotto-network

  user-service:
    image: YOUR_DOCKERHUB_ID/lotto-user-service:latest
    expose:
      - "8004"
    environment:
      - SPRING_PROFILES_ACTIVE=production
      - JWT_SECRET=${JWT_SECRET}
    networks:
      - lotto-network

  redis-session:
    image: redis:7-alpine
    expose:
      - "6379"
    volumes:
      - redis-data:/data
    networks:
      - lotto-network

  mysql-db:
    image: mysql:8.0
    expose:
      - "3306"
    environment:
      - MYSQL_ROOT_PASSWORD=${MYSQL_ROOT_PASSWORD}
      - MYSQL_DATABASE=lotto_db
    volumes:
      - mysql-data:/var/lib/mysql
    networks:
      - lotto-network
```

---

## 9. êµ¬í˜„ í™”ë©´

### 9.1 ìŠ¤í¬ë¦°ìƒ· ìœ„ì¹˜

```
ğŸ“ screenshots/
â”œâ”€â”€ 01_home.png             # í™ˆ í™”ë©´ (AI ì˜ˆì¸¡)
â”œâ”€â”€ 02_analysis.png         # í†µê³„ ë¶„ì„
â”œâ”€â”€ 03_number_analysis.png  # ë²ˆí˜¸ë³„ ë¶„ì„
â”œâ”€â”€ 04_stores.png           # íŒë§¤ì  ìˆœìœ„
â”œâ”€â”€ 05_store_map.png        # ì§€ë„ ì‹œê°í™”
â”œâ”€â”€ 06_login.png            # ë¡œê·¸ì¸
â”œâ”€â”€ 07_prediction_history.png  # ì˜ˆì¸¡ ì´ë ¥
â”œâ”€â”€ 08_docker_ps.png        # ì»¨í…Œì´ë„ˆ ì‹¤í–‰ í™”ë©´
â””â”€â”€ 09_docker_hub.png       # Docker Hub ì—…ë¡œë“œ í™”ë©´
```

**(ì‹¤ì œ ìŠ¤í¬ë¦°ìƒ·ì€ í•´ë‹¹ í´ë”ì— ì²¨ë¶€)**

---

## 10. ì™„ì„±ë„

### 10.1 ì½”ë“œ í’ˆì§ˆ

**ë„¤ì´ë° ê·œì¹™**:
- ë³€ìˆ˜: camelCase (JavaScript/TypeScript), snake_case (Python)
- í•¨ìˆ˜: ë™ì‚¬ + ëª…ì‚¬ (getUserById, analyzeLottoNumbers)
- í´ë˜ìŠ¤: PascalCase (LottoCrawler, StatisticsService)
- ì»¨í…Œì´ë„ˆ/ì„œë¹„ìŠ¤: kebab-case (data-collector-service)

**ì£¼ì„**:
```python
# Python ì˜ˆì‹œ
class LottoCrawler:
    """ì‹¤ì œ ë™í–‰ë³µê¶Œ ì‚¬ì´íŠ¸ì—ì„œ ë¡œë˜ ë°ì´í„° í¬ë¡¤ë§
    
    Attributes:
        db: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê°ì²´
        base_url: ë™í–‰ë³µê¶Œ API URL
        headers: HTTP ìš”ì²­ í—¤ë”
    """
    
    def crawl_round(self, round_number=None):
        """íŠ¹ì • íšŒì°¨ ë°ì´í„° í¬ë¡¤ë§
        
        Args:
            round_number: íšŒì°¨ ë²ˆí˜¸ (Noneì´ë©´ ìµœì‹  íšŒì°¨)
            
        Returns:
            dict: {round, draw_date, numbers, bonus}
            None: í¬ë¡¤ë§ ì‹¤íŒ¨ ì‹œ
        """
```

### 10.2 í”„ë¡œì íŠ¸ ì™„ì„±ë„

- âœ… **í”„ë¡ íŠ¸ì—”ë“œ**: 9ê°œ í˜ì´ì§€ 100% ì™„ì„±
- âœ… **ë°±ì—”ë“œ**: 5ê°œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì™„ì„±
- âœ… **ë°ì´í„° ìˆ˜ì§‘**: 1,196ê°œ íšŒì°¨ + 1,369ê°œ íŒë§¤ì 
- âœ… **AI ëª¨ë¸**: 5ê°€ì§€ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„
- âœ… **ì¸ì¦**: JWT + Redis ì„¸ì…˜
- âœ… **ë°°í¬**: Docker Compose + Docker Hub
- âœ… **ë¬¸ì„œí™”**: 8ê°œ MD íŒŒì¼

**ê³µì •ë¥ **: **100%**

### 10.3 ì‹œìŠ¤í…œ êµ¬ì„± ìœ íš¨ì„±

**ë„¤íŠ¸ì›Œí¬ êµ¬ì„±**:
- ëª¨ë“  ì„œë¹„ìŠ¤ê°€ `lotto-network`ë¡œ ì—°ê²°
- ì„œë¹„ìŠ¤ëª… DNS í•´ì„
- ìµœì†Œ ê¶Œí•œ ì›ì¹™ (expose vs ports)

**ì—°ê²° ê´€ê³„**:
```
Nginx Proxy Manager â”€â”¬â”€â–º Frontend
                     â””â”€â–º API Gateway â”€â”¬â”€â–º Data Collector
                                      â”œâ”€â–º Statistics
                                      â”œâ”€â–º ML Prediction
                                      â””â”€â–º User Service â”€â”¬â”€â–º MySQL
                                                        â””â”€â–º Redis
```

**ë„¤ì´ë°**:
- ëª…í™•í•œ ì—­í•  í‘œí˜„ (data-collector-service)
- ì¼ê´€ëœ ë„¤ì´ë° ê·œì¹™ (ëª¨ë‘ kebab-case)
- ë²„ì „ íƒœê·¸ ëª…ì‹œ (latest)

---

## ğŸ“Œ ê²°ë¡ 

ë³¸ í”„ë¡œì íŠ¸ëŠ” **9ê°œ ì»¨í…Œì´ë„ˆë¡œ êµ¬ì„±ëœ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜**ë¥¼ ì„±ê³µì ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ìœ¼ë©°, **Redis ê¸°ë°˜ ì„¸ì…˜ ê³µìœ **ë¥¼ í†µí•´ ë¶„ì‚° í™˜ê²½ì—ì„œì˜ ìƒíƒœ ê´€ë¦¬ë¥¼ ì‹¤í˜„í–ˆìŠµë‹ˆë‹¤. 

**ë¡œë˜ ë²ˆí˜¸ ì˜ˆì¸¡**ì´ë¼ëŠ” ì°½ì˜ì ì¸ ì£¼ì œë¡œ **ì‹¤ì œ ë°ì´í„° í¬ë¡¤ë§**, **AI ê¸°ë°˜ ì˜ˆì¸¡**, **ì¸í„°ë™í‹°ë¸Œ ì‹œê°í™”** ë“± ë‹¤ì–‘í•œ ê¸°ìˆ ì„ ì ìš©í•˜ì—¬ ì™„ì„±ë„ ë†’ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí–ˆìŠµë‹ˆë‹¤.

ëª¨ë“  ì†ŒìŠ¤ ì½”ë“œëŠ” **ëª…í™•í•œ ë„¤ì´ë°**ê³¼ **ì¶©ë¶„í•œ ì£¼ì„**ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, **Docker Hubì— ì—…ë¡œë“œ**í•˜ì—¬ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì„¤ì¹˜í•˜ê³  ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

---

**ì‘ì„±ì¼**: 2025ë…„ 11ì›” 7ì¼  
**í”„ë¡œì íŠ¸ ìƒíƒœ**: âœ… 100% ì™„ì„±  
**GitHub**: https://github.com/YOUR_USERNAME/lotto-prediction-system  
**Docker Hub**: https://hub.docker.com/u/YOUR_DOCKERHUB_ID
